<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: SB object that encapsulates a session</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="R.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/languages/r.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head><body>

<table width="100%" summary="page for Session-class {SparkBeyond}"><tr><td>Session-class {SparkBeyond}</td><td align="right">R Documentation</td></tr></table>

<h2>SB object that encapsulates a session</h2>

<h3>Description</h3>

<p>SB object that encapsulates a session
</p>


<h3>Fields</h3>


<dl>
<dt><code>artifact_loc</code></dt><dd><p>String location pointing to the model artifact.</p>
</dd>
<dt><code>modelBuilt</code></dt><dd><p>Indication for whether only a feature search was performed or a full model was created.</p>
</dd>
</dl>


<h3>Methods</h3>


<dl>
<dt><code>buildNumber()</code></dt><dd><p>Returns the build number in which the model was generated.</p>
</dd>
<dt><code>createPackage(sampleData = NULL, createRestAPIpackage = FALSE)</code></dt><dd><p>Create a sharable package for the model. <code>sampleData</code> can be used to a sample data to the package and test it. Only first 20 rows of the sample data will be used. <code>createRestAPIpackage</code> is a boolean indicator for whether to create a package for prediction via command line (set to FALSE) or via programmatic REST API call(TRUE).</p>
</dd>
<dt><code>enrich(data, featureCount = NA, writePredictionColumnsOnly = TRUE)</code></dt><dd><p>Returns a data frame containing the enrichedData. <code>data</code> is a dataframe to be enriched. Set <code>featureCount</code> in order to limit the number of returned features. Set <code>writePredictionColumnsOnly</code> to TRUE to return only prediction and probabily columns rather than the entire dataset.</p>
</dd>
<dt><code>enrich.file(file, featureCount = NA, writePredictionColumnsOnly = TRUE)</code></dt><dd><p>Returns a data frame containing the enrichedData. <code>file</code> is a path to the file to be enriched. Set <code>featureCount</code> in order to limit the number of returned features. Set <code>writePredictionColumnsOnly</code> to TRUE to return only prediction and probabily columns rather than the entire dataset.</p>
</dd>
<dt><code>evaluate()</code></dt><dd><p>Returns an evaluation object containing various information on the run including evaluation metric that was used, evaluation score, precision, confusion matrix, number of correct and incorrect instances, AUC information and more.</p>
</dd>
<dt><code>features()</code></dt><dd><p>Returns a dataset with top feature information</p>
</dd>
<dt><code>initialize(artifact_loc, modelBuilt = FALSE)</code></dt><dd><p>initializes a session using a string provided as <code>loc</code>.</p>
</dd>
<dt><code>liftFromPrediction(predictionResult, overrideDesiredClass = NA, title = NA,
  percentOfPopulationToPlot = 0.2)</code></dt><dd><p>Returns lift from a created model and generates three plots. <code>predictionResult</code> is a dataframe to be analyzed, <code>overrideDesiredClass</code> the class in the label column to check the lift for (e.g. '1'), <code>title</code> optional: a title for the plot. <code>percentOfPopulationToPlot</code> optional: limit the plot to the top percent of the data (x axis).</p>
</dd>
<dt><code>predict(data, writePredictionColumnsOnly = TRUE)</code></dt><dd><p>Returns prediction on a created model. <code>data</code> is a dataframe to be predicted. Set <code>writePredictionColumnsOnly</code> to TRUE to return only prediction and probabily columns rather than the entire dataset.</p>
</dd>
<dt><code>predict.file(file, writePredictionColumnsOnly = TRUE)</code></dt><dd><p>Returns prediction on a created model. <code>file</code> is the path of the file to be predicted. Set <code>writePredictionColumnsOnly</code> to TRUE to return only prediction and probabily columns rather than the entire dataset.</p>
</dd>
<dt><code>showConfusionMatrix(normalized = FALSE)</code></dt><dd><p>Shows a confusion matrix of a model.</p>
</dd>
<dt><code>showExtractors()</code></dt><dd><p>Shows extractors.</p>
</dd>
<dt><code>showFeatureClusters()</code></dt><dd><p>Shows the representative feature clusters pdf report.</p>
</dd>
<dt><code>showFeaturesTest()</code></dt><dd><p>Shows features performance on test.</p>
</dd>
<dt><code>showFeaturesTrain()</code></dt><dd><p>Shows features performance on train.</p>
</dd>
<dt><code>showFields()</code></dt><dd><p>Shows fields.</p>
</dd>
<dt><code>showFunctions()</code></dt><dd><p>Shows functions.</p>
</dd>
<dt><code>showInputSchema()</code></dt><dd><p>Shows the input schema.</p>
</dd>
<dt><code>showModelComparison()</code></dt><dd><p>Shows cross validation of various algorithms tested to create a model.</p>
</dd>
<dt><code>showROC()</code></dt><dd><p>Shows ROC of the model.</p>
</dd>
<dt><code>showROC_CV()</code></dt><dd><p>Shows ROC of cross validation of various algorithms tested to create a model.</p>
</dd>
<dt><code>showReport(report_name = NA)</code></dt><dd><p><code>report_name</code> should be one of the following: confusionMatrix, confusionMatrix_normalized, extractor, train_features, train_unweighted_features, test_unweighted_features,field, function, InputSchema, modelComparison, roc_best, roc_CV</p>
</dd>
<dt><code>status()</code></dt><dd><p>Checking the status of the session.</p>
</dd>
<dt><code>waitForProcess()</code></dt><dd><p>Blocking the R console until session is finished.</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class="r"># Learning example
## No test: 
session = learn(&quot;titanic&quot;, getData(&quot;titanic_train&quot;), target=&quot;survived&quot;,algorithmsWhiteList = list(&quot;xgboostClassifier&quot;),  scoreOnTestSet = TRUE, useCachedFeatures=TRUE)
</code></pre>

<pre><code>## [1] &quot;Notice: latest build version was not available - if this issue continues please notify SparkBeyond.&quot;
## [1] &quot;Training on  ~/sparkBeyond/data_indf7033e47e71.tsv&quot;
## [1] &quot;Calling: http://127.0.0.1:9001/rapi/learn&quot;
</code></pre>

<pre><code>## Error in function (type, msg, asError = TRUE) : Failed to connect to 127.0.0.1 port 9001: Connection refused
</code></pre>

<pre><code class="r">#session = featureSearch(&quot;titanic&quot;, getData(&quot;titanic_train&quot;), target=&quot;survived&quot;)
enriched = session$enrich(getData(&quot;titanic_train&quot;), featureCount = 10)
</code></pre>

<pre><code>## Error in eval(expr, envir, enclos): object &#39;session&#39; not found
</code></pre>

<pre><code class="r">colnames(enriched)
</code></pre>

<pre><code>## Error in is.data.frame(x): object &#39;enriched&#39; not found
</code></pre>

<pre><code class="r">predicted = session$predict(getData(&quot;titanic_test&quot;))
</code></pre>

<pre><code>## Error in eval(expr, envir, enclos): object &#39;session&#39; not found
</code></pre>

<pre><code class="r">colnames(predicted)
</code></pre>

<pre><code>## Error in is.data.frame(x): object &#39;predicted&#39; not found
</code></pre>

<pre><code class="r">predicted[1:5,c(&quot;survived_predicted&quot;, &quot;probability_0&quot;, &quot;probability_1&quot;)]
</code></pre>

<pre><code>## Error in eval(expr, envir, enclos): object &#39;predicted&#39; not found
</code></pre>

<pre><code class="r">eval = session$evaluate()
</code></pre>

<pre><code>## Error in eval(expr, envir, enclos): object &#39;session&#39; not found
</code></pre>

<pre><code class="r">#session$showFeatures()
#session$showConfusionMatrix()
## End(No test)
</code></pre>


<hr><div align="center">[Package <em>SparkBeyond</em> version 0.1 <a href="00Index.html">Index</a>]</div>
</body></html>
